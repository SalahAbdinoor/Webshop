<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="bootstrap.css" />
    <link rel="stylesheet" href="style.css" />
    <title>Shopping Cart</title>
  </head>
  <body>
    <div class="nav">
      <nav class="navbar bg-dark fixed-top" style="opacity: 80%">
        <div class="container">
          <a class="navbar-brand" href="index.html">
            <img src="images/logo.png" alt="logo" width="150" height="80" />
          </a>
        </div>
      </nav>
    </div>

    <div class="cart_section" style="margin-top: 10rem">
      <div class="row">
        <div
          class="col-lg-10 offset-lg-1"
          style="
            border: solid 1px #e8e8e8;
            box-shadow: 0px 1px 8px rgb(134, 24, 24);
            border-color: rgb(219, 137, 30);
            opacity: 98%;
          "
        >
          <div
            class="cart_item_info d-flex flex-md-row flex-column justify-content-between"
            style="width: calc(100% - 133px); float: left; padding-top: 18px"
          >
            <div
              class="cart_item_image card-img-top"
              style="margin-bottom: 1rem; max-width: 100%; max-height: 100%"
            >
              <img
                id="image"
                src="#"
                alt="product"
                style="border-radius: 10%; width: 300px; height: 300px"
              />
            </div>

            <div class="cart_item_name cart_info_col" style="margin-left: 5rem">
              <div class="cart_item_title" style="margin-right: 4rem">
                Title
              </div>
              <div class="cart_item_text" id="title"></div>
            </div>

            <div
              class="cart_item_price cart_info_col"
              style="margin-left: 8rem; margin-right: 4rem; margin-bottom: 1rem"
            >
              <div class="cart_item_title">Description</div>
              <div class="cart_item_text" id="description"></div>
            </div>

            <div class="cart_item_price cart_info_col">
              <div class="cart_item_title" style="margin-right: 2em">Price</div>
              <div class="cart_item_text" id="price"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <form
      class="needs-validation"
      novalidate=""
      style="
        margin-top: 4rem;
        margin-left: 10rem;
        margin-right: 10rem;
        margin-bottom: 10rem;
      "
    >
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label"> First name</label>
          <input
            id="firstname-input"
            class="form-control"
            placeholder="Salah"
            type="text"
          />
          <div class="feedback alert alert-danger" id="firstname-div">
            Fill in firstname
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label>Last name</label>

          <input
            id="lastname-input"
            class="form-control"
            placeholder="Abdinoor"
          />
          <div class="feedback alert alert-danger" id="lastname-div">
            Fill in lastname
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label>Email</label>
          <input
            id="email-input"
            class="form-control"
            placeholder="salah.Abdinoor@yh.nackademin.se"
          />
          <div class="feedback alert alert-danger" id="email-div">
            Fill in email
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label>Phone</label>

          <input
            id="phone-input"
            class="form-control"
            placeholder="0723166610"
          />
          <div class="feedback alert alert-danger" id="phone-div">
            Fill in phonenumber
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label>City</label>
          <input id="city-input" class="form-control" placeholder="Stockholm" />
          <div class="feedback alert alert-danger" id="city-div">
            Fill in city
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label>Address</label>
          <input
            id="address-input"
            class="form-control"
            placeholder="Kvarnhagsgatan 78"
          />
          <div class="feedback alert alert-danger" id="address-div">
            Fill in address
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label>State</label>
          <input id="state-input" class="form-control" placeholder="HÃ¤sselby" />
          <div class="feedback alert alert-danger" id="state-div">
            Fill in state
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label>ZIP-Code</label>

          <input id="zipcode-input" class="form-control" placeholder="165 54" />
          <div class="feedback alert alert-danger" id="zipcode-div">
            Fill in zipcode
          </div>
        </div>
      </div>
      <hr
        style="color: rgb(134, 24, 24); height: 2px; border: none"
        class="mb-4"
      />
      <input
        type="button"
        id="checkout"
        class="btn btn-secondary btn-lg"
        value="Checkout"
        onclick="valid()"
      />
    </form>

    

    <footer class="py-2 bg-secondary fixed-bottom">
      <p class="m-0 text-center text-white">
        Copyright &copy; Noor Shop - 2021
      </p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

    <script>
      fetch("https://webacademy.se/fakestore/")
        .then((response) => response.json())
        .then((data) =>
          $(document).ready(function () {
            $(".feedback").hide();

            var prodNumber = localStorage
              .getItem("product")
              .substr(0, localStorage.getItem("product").indexOf(","));

            var product = data[prodNumber - 1];

            $("#title").html(product.title);
            $("#price").html("$" + product.price);
            $("#description").html(product.description);
            $("#image").attr("src", product.image);
          })
        );

      function valid() {
        var firstname = document.getElementById("firstname-input").value;
        var lastname = document.getElementById("lastname-input").value;
        var email = document.getElementById("email-input").value;
        var phone = document.getElementById("phone-input").value;
        var city = document.getElementById("city-input").value;
        var address = document.getElementById("address-input").value;
        var state = document.getElementById("state-input").value;
        var zipcode = document.getElementById("zipcode-input").value;

        console.log("valid");

        if (
          !firstname ||
          !lastname ||
          !email ||
          !phone ||
          !city ||
          !address ||
          !state ||
          !zipcode
        ) {
          $(".feedback").show();
          alert("fill form correctly");
        } else if (isNaN(zipcode) || isNaN(phone)) {
          $(".feedback").show();
          alert("fill numbers correctly");
        } else {
          window.open("tacksida.html", "_self");
        }
      }
    </script>
  </body>
</html>
